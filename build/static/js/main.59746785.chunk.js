(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{225:function(e,t,a){e.exports=a.p+"static/media/logo.4fdd7394.png"},283:function(e,t,a){e.exports=a.p+"static/media/Profile.782adc2b.png"},366:function(e,t,a){},367:function(e,t,a){},372:function(e,t,a){e.exports=a.p+"static/media/playstore.3101c01d.png"},373:function(e,t,a){e.exports=a.p+"static/media/Appstore.d0891202.png"},452:function(e,t,a){},454:function(e,t,a){},496:function(e,t,a){},498:function(e,t,a){},520:function(e,t,a){e.exports=a(839)},527:function(e,t,a){},784:function(e,t,a){},789:function(e,t,a){},791:function(e,t,a){},793:function(e,t,a){},796:function(e,t,a){},798:function(e,t,a){},800:function(e,t,a){},802:function(e,t,a){},804:function(e,t,a){},806:function(e,t,a){},808:function(e,t,a){},810:function(e,t,a){},812:function(e,t,a){},814:function(e,t,a){},816:function(e,t,a){},818:function(e,t,a){},820:function(e,t,a){},822:function(e,t,a){},824:function(e,t,a){},826:function(e,t,a){},830:function(e,t,a){},832:function(e,t,a){},834:function(e,t,a){},836:function(e,t,a){},839:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(368),l=a.n(c),o=(a(527),a(369)),i=a(225),s=a.n(i),u={burgerColorHover:"#eb4034",logo:s.a,logoWidth:"20vmax",navColor1:"white",navColor2:"white",navColor3:"white",navColor4:"white",logoHoverSize:"10px",logoHoverColor:"red",link1Text:"Home",link2Text:"Movies",link3Text:"Search",link4Text:"Login",link5Text:"Profile",link1Url:"/",link2Url:"/movies",link3Url:"/search",link4Url:"/login",link5Url:"/account",link1Size:"1.3vmax",link1Color:"black",nav1justifyContent:"flex-end",nav2justifyContent:"flex-end",nav3justifyContent:"flex-start",nav4justifyContent:"flex-start",link1ColorHover:"red",link1Margin:"1vmax",profileIconUrl:"/login",profileIconColor:"black",searchIconColor:"red",cartIconColor:"black",profileIconColorHover:"white",searchIconColorHover:"white",cartIconColorHover:"white",cartIconMargin:"1vmax"},m=function(){return r.a.createElement(o.ReactNavbar,u)},d=a(372),E=a.n(d),p=a(373),v=a.n(p),f=(a(452),function(){return r.a.createElement("footer",{id:"footer"},r.a.createElement("div",{className:"leftFooter"},r.a.createElement("h4",null,"DOWNLOAD OUR APP"),r.a.createElement("p",null,"Download App for Android and IOS mobile phone"),r.a.createElement("img",{src:E.a,alt:"playstore"}),r.a.createElement("img",{src:v.a,alt:"Appstore"})),r.a.createElement("div",{className:"midFooter"},r.a.createElement("h1",null,"Book My Show"),r.a.createElement("p",null,"High Quality is our first priority"),r.a.createElement("p",null,"Copyrights 2022 \xa9 RishabhKhandelwal")),r.a.createElement("div",{className:"rightFooter"},r.a.createElement("h4",null,"Follow Us"),r.a.createElement("a",{href:"http://instagram.com"},"Instagram"),r.a.createElement("a",{href:"http://youtube.com"},"Youtube"),r.a.createElement("a",{href:"http://instagram.com"},"Facebook")))}),g=a(42),b=a(39),h=a(374),S=a.n(h),O=a(924),y=(a(454),a(927)),R=function(e){var t=e.movie,a={value:t.ratings,readOnly:!0,size:"small",precision:.5};return r.a.createElement(g.Link,{className:"movieCard",to:"/movie/".concat(t._id)},r.a.createElement("img",{src:t.images[0].url,alt:t.name}),r.a.createElement("p",null,t.name),r.a.createElement("div",null,r.a.createElement(y.a,a)," ",r.a.createElement("span",{className:"movieCardSpan"},"(",t.numOfReviews,")reviews")),r.a.createElement("span",null,"\u20b9".concat(t.price)))},_=a(458),C=function(e){var t=e.title;return r.a.createElement(_.a,null,r.a.createElement("title",null,t))},j=a(17),w=a.n(j),I=a(24),k=a(48),L=a.n(k),A=(a(490),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,500],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return function(){var c=Object(I.a)(w.a.mark(function c(l){var o,i,s;return w.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,l({type:"ALL_MOVIE_REQUEST"}),o="https://onlinemoviebooking-backend.herokuapp.com/api/v1/movies?keyword=".concat(e,"&page=").concat(t,"&price[gte]=").concat(a[0],"&price[lte]=").concat(a[1],"&ratings[gte]=").concat(r),n&&(o="https://onlinemoviebooking-backend.herokuapp.com/api/v1/movies?keyword=".concat(e,"&page=").concat(t,"&price[gte]=").concat(a[0],"&price[lte]=").concat(a[1],"&genre=").concat(n,"&ratings[gte]=").concat(r)),c.next=6,L.a.get(o);case 6:i=c.sent,s=i.data,l({type:"ALL_MOVIE_SUCCESS",payload:s}),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(0),l({type:"ALL_MOVIE_FAIL",payload:c.t0.response.data.message});case 14:case"end":return c.stop()}},c,null,[[0,11]])}));return function(e){return c.apply(this,arguments)}}()}),T=function(e){return function(){var t=Object(I.a)(w.a.mark(function t(a){var n,r;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"MOVIE_DETAILS_REQUEST"}),t.next=4,L.a.get("https://onlinemoviebooking-backend.herokuapp.com/api/v1/movie/".concat(e));case 4:n=t.sent,r=n.data,console.log(r),a({type:"MOVIE_DETAILS_SUCCESS",payload:r.movie}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:"MOVIE_DETAILS_FAIL",payload:t.t0.response.data.message});case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()},N=function(){return function(){var e=Object(I.a)(w.a.mark(function e(t){var a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:" ADMIN_MOVIE_REQUEST"}),e.next=4,L.a.get("https://onlinemoviebooking-backend.herokuapp.com/api/v1/admin/movies");case 4:a=e.sent,n=a.data,t({type:" ADMIN_MOVIE_SUCCESS",payload:n.movies}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:" ADMIN_MOVIE_FAIL",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},D=function(e){return function(){var t=Object(I.a)(w.a.mark(function t(a){var n,r;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ALL_REVIEW_REQUEST"}),t.next=4,L.a.get("https://onlinemoviebooking-backend.herokuapp.com/api/v1/reviews?movieId=".concat(e));case 4:n=t.sent,r=n.data,a({type:"ALL_REVIEW_SUCCESS",payload:r.reviews}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"ALL_REVIEW_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},U=function(){return function(){var e=Object(I.a)(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_ERRORS"});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},x=a(18),P=(a(496),function(){return r.a.createElement("div",{className:"loading"},r.a.createElement("div",null))}),F=a(30),M=function(){var e=Object(F.d)(),t=Object(x.b)(),a=Object(x.c)(function(e){return e.movies}),c=a.loading,l=a.error,o=a.movies;return Object(n.useEffect)(function(){l&&(e.error(l),t(U())),t(A())},[t,l,e]),r.a.createElement(n.Fragment,null,c?r.a.createElement(P,null):r.a.createElement(n.Fragment,null,r.a.createElement(C,{title:"BookMyShow"}),r.a.createElement("div",{className:"banner"},r.a.createElement("p",null,"Welcome to Book My Show"),r.a.createElement("h1",null,"FIND AMAZING MOVIES BELOW"),r.a.createElement("a",{href:"#container"},r.a.createElement("button",null,"Scroll ",r.a.createElement(O.a,null)))),r.a.createElement("h2",{className:"homeHeading"},"Featured Movies"),r.a.createElement("div",{className:"container",id:"container"},o&&o.map(function(e){return r.a.createElement(R,{movie:e,key:e._id})}))))},W=a(6),V=(a(498),a(283)),B=a.n(V),Q=function(e){var t=e.review,a=e.numOfReviews,n={value:t.rating,readOnly:!0,size:"large",precision:.5};return r.a.createElement("div",{className:"reviewCard"},r.a.createElement("img",{src:B.a,alt:"User"}),r.a.createElement("p",null,t.name),r.a.createElement(y.a,n)," ",r.a.createElement("span",null,"(",a,")reviews"),r.a.createElement("span",{className:"reviewCardComment"},t.comment))},q=function(e,t){return function(){var a=Object(I.a)(w.a.mark(function a(n,r){var c,l;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,L.a.get("https://onlinemoviebooking-backend.herokuapp.com/api/v1/movie/".concat(e));case 2:c=a.sent,l=c.data,n({type:"ADD_TO_CART",payload:{movie:l.movie._id,name:l.movie.name,price:l.movie.price,image:l.movie.pic,seats:l.movie.seats,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 6:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()},G=a(937),H=a(914),z=a(940),Y=a(941),J=a(932),K=function(){var e=Object(x.b)(),t=Object(F.d)(),a=Object(b.A)().id,c=Object(x.c)(function(e){return e.movieDetails}),l=c.movie,o=c.loading,i=c.error,s=Object(x.c)(function(e){return e.newReview}),u=s.success,m=s.error,d={value:l.ratings,readOnly:!0,size:"large",precision:.5},E=Object(n.useState)(1),p=Object(W.a)(E,2),v=p[0],f=p[1],g=Object(n.useState)(!1),h=Object(W.a)(g,2),S=h[0],O=h[1],R=Object(n.useState)(0),_=Object(W.a)(R,2),j=_[0],k=_[1],A=Object(n.useState)(""),N=Object(W.a)(A,2),D=N[0],M=N[1],V=function(){O(!S)};return Object(n.useEffect)(function(){i&&(t.error(i),e(U())),m&&(t.error(m),e(U())),u&&(t.success("Review Submitted Sucessfully"),e({type:"NEW_REVIEW_RESET"})),e(T(a))},[e,a,i,t,m,u]),r.a.createElement(n.Fragment,null,o?r.a.createElement(P,null):r.a.createElement(n.Fragment,null,r.a.createElement(C,{title:"".concat(l.name," --BookMyShow")}),r.a.createElement("div",{className:"MovieDetails"},r.a.createElement("div",null,r.a.createElement("img",{className:"CarouselImage",src:l.images&&l.images[0].url,alt:"Movie picture"})),r.a.createElement("div",null,r.a.createElement("div",{className:"detailsBlock-1"},r.a.createElement("h2",null,l.name),r.a.createElement("p",null,"Movie # ",l._id)),r.a.createElement("div",{className:"detailsBlock-2"},r.a.createElement(y.a,d),r.a.createElement("span",{className:"detailsBlock-2-span"}," ","(",l.numOfReviews," Reviews)")),r.a.createElement("div",{className:"detailsBlock-3"},r.a.createElement("h1",null,"\u20b9".concat(l.price)),r.a.createElement("div",{className:"detailsBlock-3-1"},r.a.createElement("div",{className:"detailsBlock-3-1-1"},r.a.createElement("button",{onClick:function(){1>=v||f(v-1)}},"-"),r.a.createElement("input",{readOnly:!0,type:"number",value:v}),r.a.createElement("button",{onClick:function(){l.seats<=v||f(v+1)}},"+")),r.a.createElement("button",{disabled:l.seats<1,onClick:function(){e(q(a,v)),t.success("Item Added to Cart"),window.location.href="/cart"}},"Book Movie")),r.a.createElement("p",null,"Status:",r.a.createElement("b",{className:l.seats<1?"redColor":"greenColor"},l.seats<1?"House Full":"Seats Available"))),r.a.createElement("div",{className:"detailsBlock-4"},"Description : ",r.a.createElement("p",null,l.description)),r.a.createElement("button",{onClick:V,className:"submitReview"},"Submit Review"))),r.a.createElement("h3",{className:"reviewsHeading"},"REVIEWS"),r.a.createElement(G.a,{"aria-labelledby":"simple-dialog-title",open:S,onClose:V},r.a.createElement(H.a,null,"Submit Review"),r.a.createElement(z.a,{className:"submitDialog"},r.a.createElement(y.a,{onChange:function(e){return k(e.target.value)},value:j,size:"large"}),r.a.createElement("textarea",{className:"submitDialogTextArea",cols:"30",rows:"5",value:D,onChange:function(e){return M(e.target.value)}})),r.a.createElement(Y.a,null,r.a.createElement(J.a,{onClick:V,color:"secondary"},"Cancel"),r.a.createElement(J.a,{onClick:function(){var t,n=new FormData;n.set("rating",j),n.set("comment",D),n.set("movieId",a),e((t=n,function(){var e=Object(I.a)(w.a.mark(function e(a){var n,r,c;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"NEW_REVIEW_REQUEST"}),n={headers:{"Content-Type":"application/json"}},e.next=5,L.a.put("https://onlinemoviebooking-backend.herokuapp.com/api/v1/review",t,n);case 5:r=e.sent,c=r.data,a({type:"NEW_REVIEW_SUCCESS",payload:c.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:"NEW_REVIEW_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}())),O(!1)}},"Submit"))),l.reviews&&l.reviews[0]?r.a.createElement("div",{className:"reviews"},l.reviews&&l.reviews.map(function(e){return r.a.createElement(Q,{review:e,numOfReviews:l.numOfReviews})})):r.a.createElement("p",null,"No Reviews Yet :-(")))},X=(a(784),a(379)),Z=a.n(X),$=a(925),ee=a(931),te=["Comedy","Science","Sports","Horror","Action","Love"],ae=function(){var e=Object(b.A)().keyword,t=Object(x.b)(),a=Object(F.d)(),c=Object(n.useState)(1),l=Object(W.a)(c,2),o=l[0],i=l[1],s=Object(n.useState)([0,500]),u=Object(W.a)(s,2),m=u[0],d=u[1],E=Object(n.useState)(""),p=Object(W.a)(E,2),v=p[0],f=p[1],g=Object(n.useState)(0),h=Object(W.a)(g,2),S=h[0],O=h[1],y=Object(x.c)(function(e){return e.movies}),_=y.movies,j=y.loading,w=y.error,I=y.movieCount,k=y.resultPerPage;y.filteredMoviesCount;return Object(n.useEffect)(function(){w&&(a.error(w),t(U())),t(A(e,o,m,v,S))},[t,e,o,m,v,S,w]),r.a.createElement(n.Fragment,null," ",j?r.a.createElement(P,null):r.a.createElement(n.Fragment,null,r.a.createElement(C,{title:"MOVIES -- BookyMyShow"}),r.a.createElement("h2",{className:"moviesHeading"}," Movies "),r.a.createElement("div",{className:"movies"},_&&_.map(function(e){return r.a.createElement(R,{key:e._id,movie:e})})),r.a.createElement("div",{className:"filterBox"},r.a.createElement(ee.a,null,"Price "),r.a.createElement($.a,{value:m,onChange:function(e,t){d(t)},valueLabelDisplay:"auto","aria-labelledby":"range-slider",min:0,max:500}),r.a.createElement(ee.a,null,"Genre "),r.a.createElement("ul",{className:"categoryBox"},te.map(function(e){return r.a.createElement("li",{className:"category-link",key:e,onClick:function(){return f(e)}},e)})),r.a.createElement("fieldset",null,r.a.createElement(ee.a,{component:"legend"},"Ratings Above "),r.a.createElement($.a,{value:S,onChange:function(e,t){O(t)},"aria-labelledby":"continuous-slider",valueLabelDisplay:"auto",min:0,max:5}))),k<I&&r.a.createElement("div",{className:"paginationBox"},r.a.createElement(Z.a,{activePage:o,itemsCountPerPage:k,totalItemsCount:I,onChange:function(e){i(e)},nextPageText:"Next",prevPageText:"Prev",firstPageText:"1st",lastPageText:"Last",itemClass:"page-item",linkClass:"page-link",activeClass:"pageItemActive",activeLinkClass:"pageLinkActive"}))))},ne=(a(789),function(){var e=Object(n.useState)(""),t=Object(W.a)(e,2),a=t[0],c=t[1];return r.a.createElement(n.Fragment,null,r.a.createElement(C,{title:"Search A Movie -- BookMyShow"}),r.a.createElement("form",{className:"searchBox",onSubmit:function(e){e.preventDefault(),a.trim()?window.location.href="/movies/".concat(a):window.location.href="/movies"}},r.a.createElement("input",{type:"text",placeholder:"Search a Movie ...",onChange:function(e){return c(e.target.value)}}),r.a.createElement("input",{type:"submit",value:"Search"})))}),re=a(3),ce=a(41),le=a(77),oe=(a(791),a(145)),ie=a.n(oe),se=a(146),ue=a.n(se),me=a(229),de=a.n(me),Ee=function(){return function(){var e=Object(I.a)(w.a.mark(function e(t){var a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOAD_USER_REQUEST"}),e.next=4,L.a.get("https://onlinemoviebooking-backend.herokuapp.com/api/v1/me");case 4:a=e.sent,n=a.data,console.log(n),t({type:" LOAD_USER_SUCCESS",payload:n.user}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"LOAD_USER_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()},pe=function(){return function(){var e=Object(I.a)(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("https://onlinemoviebooking-backend.herokuapp.com/api/v1/logout");case 3:t({type:" LOGOUT_SUCCESS"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t({type:"LOGOUT_FAIL",payload:e.t0.response.data.message});case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}()},ve=function(){return function(){var e=Object(I.a)(w.a.mark(function e(t){var a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ALL_USERS_REQUEST"}),e.next=4,L.a.get("https://onlinemoviebooking-backend.herokuapp.com/api/v1/admin/users");case 4:a=e.sent,n=a.data,t({type:" ALL_USERS_SUCCESS",payload:n.users}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"ALL_USERS_FAIL",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},fe=function(){return function(){var e=Object(I.a)(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_ERRORS"});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},ge=function(e){Object(le.a)(e);var t=Object(x.b)(),a=Object(F.d)(),c=Object(x.c)(function(e){return e.user}),l=c.error,o=c.loading,i=c.isAuthenticated,s=Object(n.useRef)(null),u=Object(n.useRef)(null),m=Object(n.useRef)(null),d=Object(n.useState)(""),E=Object(W.a)(d,2),p=E[0],v=E[1],f=Object(n.useState)(""),b=Object(W.a)(f,2),h=b[0],S=b[1],O=Object(n.useState)({name:"",email:"",password:""}),y=Object(W.a)(O,2),R=y[0],_=y[1],C=R.name,j=R.email,k=R.password,A=Object(n.useState)("/Profile.png"),T=Object(W.a)(A,2),N=T[0],D=T[1],U=Object(n.useState)("/Profile.png"),M=Object(W.a)(U,2),V=M[0],B=M[1],Q=function(e){if("avatar"===e.target.name){var t=new FileReader;t.onload=function(){2===t.readyState&&(B(t.result),D(t.result))},t.readAsDataURL(e.target.files[0])}else _(Object(ce.a)({},R,Object(re.a)({},e.target.name,e.target.value)))};Object(n.useEffect)(function(){l&&(a.error(l),t(fe())),i&&(window.location.href="/account")},[t,l,a,i]);var q=function(e,t){"login"===t&&(m.current.classList.add("shiftToNeutral"),m.current.classList.remove("shiftToRight"),u.current.classList.remove("shiftToNeutralForm"),s.current.classList.remove("shiftToLeft")),"register"===t&&(m.current.classList.add("shiftToRight"),m.current.classList.remove("shiftToNeutral"),u.current.classList.add("shiftToNeutralForm"),s.current.classList.add("shiftToLeft"))};return r.a.createElement(n.Fragment,null,o?r.a.createElement(P,null):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"LoginSignUpContainer"},r.a.createElement("div",{className:"LoginSignUpBox"},r.a.createElement("div",null,r.a.createElement("div",{className:"login_signUp_toggle"},r.a.createElement("p",{onClick:function(e){return q(0,"login")}},"LOGIN"),r.a.createElement("p",{onClick:function(e){return q(0,"register")}},"REGISTER")),r.a.createElement("button",{ref:m})),r.a.createElement("form",{className:"loginForm",ref:s,onSubmit:function(e){var a,n;e.preventDefault(),t((a=p,n=h,function(){var e=Object(I.a)(w.a.mark(function e(t){var r,c,l;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOGIN_REQUEST"}),r={headers:{"Content-Type":"application/json"}},e.next=5,L.a.post("https://onlinemoviebooking-backend.herokuapp.com/api/v1/login",{email:a,password:n},r);case 5:c=e.sent,l=c.data,t({type:" LOGIN_SUCCESS",payload:l.user}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"LOGIN_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))}},r.a.createElement("div",{className:"loginEmail"},r.a.createElement(ie.a,null),r.a.createElement("input",{type:"email",placeholder:"Email",required:!0,value:p,onChange:function(e){return v(e.target.value)}})),r.a.createElement("div",{className:"loginPassword"},r.a.createElement(ue.a,null),r.a.createElement("input",{type:"password",placeholder:"Password",required:!0,value:h,onChange:function(e){return S(e.target.value)}})),r.a.createElement(g.Link,{to:"/password/forgot"},"Forget Password ?"),r.a.createElement("input",{type:"submit",value:"Login",className:"loginBtn"})),r.a.createElement("form",{className:"signUpForm",ref:u,encType:"multipart/form-data",onSubmit:function(e){e.preventDefault();var a,n=new FormData;n.set("name",C),n.set("email",j),n.set("password",k),n.set("avatar",N),t((a=n,function(){var e=Object(I.a)(w.a.mark(function e(t){var n,r,c;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"REGISTER_USER_REQUEST"}),n={headers:{"Content-Type":"application/json"}},e.next=5,L.a.post("https://onlinemoviebooking-backend.herokuapp.com/api/v1/register",a,n);case 5:r=e.sent,c=r.data,t({type:" REGISTER_USER_SUCCESS",payload:c.user}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"REGISTER_USER_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))}},r.a.createElement("div",{className:"signUpName"},r.a.createElement(de.a,null),r.a.createElement("input",{type:"text",placeholder:"Name",required:!0,name:"name",value:C,onChange:Q})),r.a.createElement("div",{className:"signUpEmail"},r.a.createElement(ie.a,null),r.a.createElement("input",{type:"email",placeholder:"Email",required:!0,name:"email",value:j,onChange:Q})),r.a.createElement("div",{className:"signUpPassword"},r.a.createElement(ue.a,null),r.a.createElement("input",{type:"password",placeholder:"Password",required:!0,name:"password",value:k,onChange:Q})),r.a.createElement("div",{id:"registerImage"},r.a.createElement("img",{src:V,alt:"Avatar Preview"}),r.a.createElement("input",{type:"file",name:"avatar",accept:"image/*",onChange:Q})),r.a.createElement("input",{type:"submit",value:"Register",className:"signUpBtn"}))))))},be=a(194),he=a(381),Se=a(380),Oe=a(20),ye=Object(be.combineReducers)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{movies:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_MOVIE_REQUEST":case" ADMIN_MOVIE_REQUEST":return{loading:!0,movies:[]};case"ALL_MOVIE_SUCCESS":return{loading:!1,movies:t.payload.movies,movieCount:t.payload.movieCount,resultPerPage:t.payload.resultPerPage,filteredMoviesCount:t.payload.filteredMoviesCount};case" ADMIN_MOVIE_SUCCESS":return{loading:!1,movies:t.payload};case"ALL_MOVIE_FAIL":case" ADMIN_MOVIE_FAIL":return{loading:!0,error:t.payload};case"CLEAR_ERRORS":return Object(ce.a)({},e,{error:null});default:return e}},movieDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{movie:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOVIE_DETAILS_REQUEST":return Object(ce.a)({loading:!0},e);case"MOVIE_DETAILS_SUCCESS":return{loading:!1,movie:t.payload};case"MOVIE_DETAILS_FAIL":return{loading:!0,error:t.payload};case"CLEAR_ERRORS":return Object(ce.a)({},e,{error:null});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":case"REGISTER_USER_REQUEST":case"LOAD_USER_REQUEST":return{loading:!0,isAuthenticated:!1};case" LOGIN_SUCCESS":case" REGISTER_USER_SUCCESS":case" LOAD_USER_SUCCESS":return Object(ce.a)({},e,{loading:!1,isAuthenticated:!0,user:t.payload});case" LOGOUT_SUCCESS":return{loading:!1,isAuthenticated:!1,user:null};case"LOGIN_FAIL":case"REGISTER_USER_FAIL":return Object(ce.a)({},e,{loading:!1,isAuthenticated:!1,user:null,error:t.payload});case"LOAD_USER_FAIL":return{loading:!1,isAuthenticated:!1,user:null,error:t.payload};case"LOGOUT_FAIL":return Object(ce.a)({},e,{loading:!1,error:t.payload});case"CLEAR_ERRORS":return Object(ce.a)({},e,{error:null});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case" UPDATE_PROFILE_REQUEST":case" UPDATE_PASSWORD_REQUEST":case"UPDATE_USER_REQUEST":case"DELETE_USER_REQUEST":return Object(ce.a)({},e,{loading:!0});case" UPDATE_PROFILE_SUCCESS":case" UPDATE_PASSWORD_SUCCESS":case" UPDATE_USER_SUCCESS":return Object(ce.a)({},e,{loading:!1,isUpdated:!0});case" DELETE_USER_SUCCESS":return Object(ce.a)({},e,{loading:!1,isDeleted:t.payload.success,message:t.payload.message});case"UPDATE_PROFILE_RESET":case"UPDATE_PASSWORD_RESET":case"UPDATE_USER_RESET":return Object(ce.a)({},e,{isUpdated:!1});case"DELETE_USER_RESET":return Object(ce.a)({},e,{isDeleted:!1});case"UPDATE_PROFILE_FAIL":case"UPDATE_PASSWORD_FAIL":case"UPDATE_USER_FAIL":case"DELETE_USER_FAIL":return Object(ce.a)({},e,{loading:!1,error:t.payload});case"CLEAR_ERRORS":return Object(ce.a)({},e,{error:null});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case" FORGOT_PASSWORD_REQUEST":case" RESET_PASSWORD_REQUEST":return Object(ce.a)({},e,{loading:!0,error:null});case" FORGOT_PASSWORD_SUCCESS":return Object(ce.a)({},e,{loading:!1,message:t.payload});case" RESET_PASSWORD_SUCCESS":return Object(ce.a)({},e,{loading:!1,success:t.payload});case"FORGOT_PASSWORD_FAIL":case"RESET_PASSWORD_FAIL":return Object(ce.a)({},e,{loading:!1,error:t.payload});case"CLEAR_ERRORS":return Object(ce.a)({},e,{error:null});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingInfo:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":var a=t.payload,n=e.cartItems.find(function(e){return e.movie===a.movie});return n?Object(ce.a)({},e,{cartItems:e.cartItems.map(function(e){return e.movie===n.movie?a:e})}):Object(ce.a)({},e,{cartItems:[].concat(Object(Oe.a)(e.cartItems),[a])});case" REMOVE_CART_ITEM":return Object(ce.a)({},e,{cartItems:e.cartItems.filter(function(e){return e.movie!==t.payload})});case" SAVE_SHIPPING_INFO ":return Object(ce.a)({},e,{shippingInfo:t.payload});default:return e}},newOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_ORDER_REQUEST ":return Object(ce.a)({},e,{loading:!0});case" CREATE_ORDER_SUCCESS ":return{loading:!1,order:t.payload};case"CREATE_ORDER_FAIL":return{loading:!1,error:t.payload};case"CLEAR_ERRORS":return Object(ce.a)({},e,{error:null});default:return e}},myOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MY_ORDERS_REQUEST ":return{loading:!0};case" MY_ORDERS_SUCCESS ":return{loading:!1,orders:t.payload};case"MY_ORDERS_FAIL":return{loading:!1,error:t.payload};case"CLEAR_ERRORS":return Object(ce.a)({},e,{error:null});default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DETAILS_REQUEST ":return{loading:!0};case" ORDER_DETAILS_SUCCESS ":return{loading:!1,order:t.payload};case"ORDER_DETAILS_FAIL":return{loading:!1,error:t.payload};case"CLEAR_ERRORS":return Object(ce.a)({},e,{error:null});default:return e}},newReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_REVIEW_REQUEST":return Object(ce.a)({},e,{loading:!0});case"NEW_REVIEW_SUCCESS":return{loading:!1,success:t.payload};case"NEW_REVIEW_FAIL":return Object(ce.a)({},e,{loading:!1,error:t.payload});case"NEW_REVIEW_RESET":return Object(ce.a)({},e,{success:!1});case"CLEAR_ERRORS":return Object(ce.a)({},e,{error:null});default:return e}},newMovie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{movie:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_MOVIE_REQUEST":return Object(ce.a)({},e,{loading:!0});case"NEW_MOVIE_SUCCESS":return{loading:!1,success:t.payload.success,movie:t.payload.movie};case"NEW_MOVIE_FAIL":return Object(ce.a)({},e,{loading:!1,error:t.payload});case"NEW_MOVIE_RESET":return Object(ce.a)({},e,{success:!1});case"CLEAR_ERRORS":return Object(ce.a)({},e,{error:null});default:return e}},movie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_MOVIE_REQUEST":case"UPDATE_MOVIE_REQUEST":return Object(ce.a)({},e,{loading:!0});case"DELETE_MOVIE_SUCCESS":return Object(ce.a)({},e,{loading:!1,isDeleted:t.payload});case"UPDATE_MOVIE_SUCCESS":return Object(ce.a)({},e,{loading:!1,isUpdated:t.payload});case"DELETE_MOVIE_FAIL":case"UPDATE_MOVIE_FAIL":return Object(ce.a)({},e,{loading:!1,error:t.payload});case"DELETE_MOVIE_RESET":return Object(ce.a)({},e,{isDeleted:!1});case"UPDATE_MOVIE_RESET":return Object(ce.a)({},e,{isUpdated:!1});case"CLEAR_ERRORS":return Object(ce.a)({},e,{error:null});default:return e}},allOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_ORDERS_REQUEST ":return{loading:!0};case"ALL_ORDERS_SUCCESS ":return{loading:!1,orders:t.payload};case"ALL_ORDERS_FAIL":return{loading:!1,error:t.payload};case"CLEAR_ERRORS":return Object(ce.a)({},e,{error:null});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case" UPDATE_ORDER_REQUEST ":case" DELETE_ORDER_REQUEST ":return Object(ce.a)({},e,{loading:!0});case" UPDATE_ORDER_SUCCESS ":return Object(ce.a)({},e,{loading:!1,isUpdated:t.payload});case" DELETE_ORDER_SUCCESS ":return Object(ce.a)({},e,{loading:!1,isDeleted:t.payload});case" UPDATE_ORDER_FAIL":case" DELETE_ORDER_FAIL":return Object(ce.a)({},e,{loading:!1,error:t.payload});case" UPDATE_ORDER_RESET":return Object(ce.a)({},e,{isUpdated:!1});case" DELETE_ORDER_RESET":return Object(ce.a)({},e,{isDeleted:!1});case"CLEAR_ERRORS":return Object(ce.a)({},e,{error:null});default:return e}},allUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_USERS_REQUEST":return Object(ce.a)({},e,{loading:!0});case" ALL_USERS_SUCCESS":return Object(ce.a)({},e,{loading:!1,users:t.payload});case"ALL_USERS_FAIL":return Object(ce.a)({},e,{loading:!1,error:t.payload});case"CLEAR_ERRORS":return Object(ce.a)({},e,{error:null});default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DETAILS_REQUEST":return Object(ce.a)({},e,{loading:!0});case" USER_DETAILS_SUCCESS":return Object(ce.a)({},e,{loading:!1,user:t.payload});case"USER_DETAILS_FAIL":return Object(ce.a)({},e,{loading:!1,error:t.payload});case"CLEAR_ERRORS":return Object(ce.a)({},e,{error:null});default:return e}},movieReviews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reviews:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_REVIEW_REQUEST":return Object(ce.a)({},e,{loading:!0});case"ALL_REVIEW_SUCCESS":return{loading:!1,reviews:t.payload};case"ALL_REVIEW_FAIL":return Object(ce.a)({},e,{loading:!1,error:t.payload});case"CLEAR_ERRORS":return Object(ce.a)({},e,{error:null});default:return e}},review:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_REVIEW_REQUEST":return Object(ce.a)({},e,{loading:!0});case"DELETE_REVIEW_SUCCESS":return{loading:!1,isDeleted:!0};case"DELETE_REVIEW_FAIL":return Object(ce.a)({},e,{loading:!1,error:t.payload});case"DELETE_REVIEW_RESET":return Object(ce.a)({},e,{isDeleted:!1});case"CLEAR_ERRORS":return Object(ce.a)({},e,{error:null});default:return e}}}),Re={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingInfo:localStorage.getItem("shippingInfo")?JSON.parse(localStorage.getItem("shippingInfo")):{}}},_e=[he.a],Ce=Object(be.legacy_createStore)(ye,Re,Object(Se.composeWithDevTools)(be.applyMiddleware.apply(void 0,_e))),je=(a(793),a(938)),we=a(933),Ie=a(943),ke=a(384),Le=a.n(ke),Ae=a(231),Te=a.n(Ae),Ne=a(383),De=a.n(Ne),Ue=a(230),xe=a.n(Ue),Pe=a(382),Fe=a.n(Pe);a(283);var Me=function(e){var t=e.user,a=Object(x.c)(function(e){return e.cart}).cartItems,c=Object(x.b)(),l=Object(n.useState)(!1),o=Object(W.a)(l,2),i=o[0],s=o[1],u=[{icon:r.a.createElement(xe.a,null),name:"Bookings",func:function(){window.location.href="/orders"}},{icon:r.a.createElement(Te.a,null),name:"Profile",func:function(){window.location.href="/account"}},{icon:r.a.createElement(Fe.a,{style:{color:a.length>0?"tomato":"unset"}}),name:"Cart(".concat(a.length,")"),func:function(){window.location.href="/cart"}},{icon:r.a.createElement(De.a,null),name:"Logout",func:function(){c(pe()),console.log("Looged out")}}];return"admin"===t.role&&u.unshift({icon:r.a.createElement(Le.a,null),name:"DashBoard",func:function(){window.location.href="/admin/dashboard"}}),r.a.createElement(n.Fragment,null,r.a.createElement(je.a,{open:i,style:{zIndex:"10"}}),r.a.createElement(we.a,{ariaLabel:"SpeedDial tooltip example",onClose:function(){return s(!1)},onOpen:function(){return s(!0)},open:i,style:{zIndex:"11"},direction:"down",className:"speedDial",icon:r.a.createElement("img",{className:"speedDialIcon",src:t.avatar.url?t.avatar.url:"/Profile.png",alt:"Profile"})},u.map(function(e){return r.a.createElement(Ie.a,{icon:e.icon,key:e.name,tooltipTitle:e.name,onClick:e.func})})))},We=(a(796),function(){var e=Object(x.c)(function(e){return e.user}),t=e.user,a=e.loading,c=e.isAuthenticated;return Object(n.useEffect)(function(){!1===c&&(window.location.href="/login")},[]),r.a.createElement(n.Fragment,null,a?r.a.createElement(P,null):r.a.createElement(n.Fragment,null,r.a.createElement(C,{title:"".concat(t.name,"'s Profile")}),r.a.createElement("div",{className:"profileContainer"},r.a.createElement("div",null,r.a.createElement("h1",null,"My Profile"),r.a.createElement("img",{src:t.avatar.url,alt:t.name}),r.a.createElement(g.Link,{to:"/me/update"}," Edit Profile")),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h4",null,"Full Name"),r.a.createElement("p",null,t.name)),r.a.createElement("div",null,r.a.createElement("h4",null,"Email"),r.a.createElement("p",null,t.email)),r.a.createElement("div",null,r.a.createElement("h4",null,"Joined On"),r.a.createElement("p",null,String(t.createdAt).substring(0,10))),r.a.createElement("div",null,r.a.createElement(g.Link,{to:"/orders"},"My orders"),r.a.createElement(g.Link,{to:"/password/update"},"Change Password"))))))}),Ve=(a(798),function(){Object(b.w)();var e=Object(x.b)(),t=Object(F.d)(),a=Object(x.c)(function(e){return e.user}).user,c=Object(x.c)(function(e){return e.profile}),l=c.error,o=c.isUpdated,i=c.loading,s=Object(n.useState)(""),u=Object(W.a)(s,2),m=u[0],d=u[1],E=Object(n.useState)(""),p=Object(W.a)(E,2),v=p[0],f=p[1],g=Object(n.useState)("/Profile.png"),h=Object(W.a)(g,2),S=h[0],O=h[1],y=Object(n.useState)("/Profile.png"),R=Object(W.a)(y,2),_=R[0],j=R[1];return Object(n.useEffect)(function(){a&&(d(a.name),f(a.email),j(a.avatar.url)),l&&(t.error(l),e(fe())),o&&(console.log("updated"),e(Ee()),window.location.href="/account",e({type:"UPDATE_PROFILE_RESET"}))},[e,l,t,a,o,"/account"]),r.a.createElement(n.Fragment,null,i?r.a.createElement(P,null):r.a.createElement(n.Fragment,null,r.a.createElement(C,{title:"Update Profile"}),r.a.createElement("div",{className:"updateProfileContainer"},r.a.createElement("div",{className:"updateProfileBox"},r.a.createElement("h2",{className:"updateProfileHeading"},"Update Profile"),r.a.createElement("form",{className:"updateProfileForm",encType:"multipart/form-data",onSubmit:function(t){t.preventDefault();var a,n=new FormData;n.set("name",m),n.set("email",v),n.set("avatar",S),e((a=n,function(){var e=Object(I.a)(w.a.mark(function e(t){var n,r,c;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:" UPDATE_PROFILE_REQUEST"}),n={headers:{"Content-Type":"multipart/form-data"}},e.next=5,L.a.put("https://onlinemoviebooking-backend.herokuapp.com/api/v1/me/update",a,n);case 5:r=e.sent,c=r.data,t({type:" UPDATE_PROFILE_SUCCESS",payload:c.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"UPDATE_PROFILE_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))}},r.a.createElement("div",{className:"updateProfileName"},r.a.createElement(de.a,null),r.a.createElement("input",{type:"text",placeholder:"Name",required:!0,name:"name",value:m,onChange:function(e){return d(e.target.value)}})),r.a.createElement("div",{className:"updateProfileEmail"},r.a.createElement(ie.a,null),r.a.createElement("input",{type:"email",placeholder:"Email",required:!0,name:"email",value:v,onChange:function(e){return f(e.target.value)}})),r.a.createElement("div",{id:"updateProfileImage"},r.a.createElement("img",{src:_,alt:"Avatar Preview"}),r.a.createElement("input",{type:"file",name:"avatar",accept:"image/*",onChange:function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(j(t.result),O(t.result))},t.readAsDataURL(e.target.files[0])}})),r.a.createElement("input",{type:"submit",value:"updateProfile",className:"updateProfileBtn"}))))))}),Be=(a(800),a(233)),Qe=a.n(Be),qe=a(232),Ge=a.n(qe),He=function(){var e=Object(x.b)(),t=Object(F.d)(),a=Object(x.c)(function(e){return e.profile}),c=a.error,l=a.isUpdated,o=a.loading,i=Object(n.useState)(""),s=Object(W.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(""),E=Object(W.a)(d,2),p=E[0],v=E[1],f=Object(n.useState)(""),g=Object(W.a)(f,2),b=g[0],h=g[1];return Object(n.useEffect)(function(){c&&(t.error(c),e(fe())),l&&(t.success("password changed successfully"),console.log("updated"),window.location.href="/account",e({type:"UPDATE_PASSWORD_RESET"}))},[e,c,t,l,"/account"]),r.a.createElement(n.Fragment,null,o?r.a.createElement(P,null):r.a.createElement(n.Fragment,null,r.a.createElement(C,{title:"Update Password"}),r.a.createElement("div",{className:"updatePasswordContainer"},r.a.createElement("div",{className:"updatePasswordBox"},r.a.createElement("h2",{className:"updatePasswordHeading"},"Update Profile"),r.a.createElement("form",{className:"updatePasswordForm",onSubmit:function(t){t.preventDefault();var a,n=new FormData;n.set("oldPassword",u),n.set("newPassword",p),n.set("confirmPassword",b),e((a=n,function(){var e=Object(I.a)(w.a.mark(function e(t){var n,r,c;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:" UPDATE_PASSWORD_REQUEST"}),n={headers:{"Content-Type":"application/json"}},e.next=5,L.a.put("https://onlinemoviebooking-backend.herokuapp.com/api/v1/password/update",a,n);case 5:r=e.sent,c=r.data,t({type:" UPDATE_PASSWORD_SUCCESS",payload:c.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"UPDATE_PASSWORD_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))}},r.a.createElement("div",{className:"loginPassword"},r.a.createElement(Ge.a,null),r.a.createElement("input",{type:"password",placeholder:"Old Password",required:!0,value:u,onChange:function(e){return m(e.target.value)}})),r.a.createElement("div",{className:"loginPassword"},r.a.createElement(ue.a,null),r.a.createElement("input",{type:"password",placeholder:"New Password",required:!0,value:p,onChange:function(e){return v(e.target.value)}})),r.a.createElement("div",{className:"loginPassword"},r.a.createElement(Qe.a,null),r.a.createElement("input",{type:"password",placeholder:"Confirm Password",required:!0,value:b,onChange:function(e){return h(e.target.value)}})),r.a.createElement("input",{type:"submit",value:"Change",className:"updatePasswordBtn"}))))))},ze=(a(802),function(){var e=Object(x.b)(),t=Object(F.d)(),a=Object(x.c)(function(e){return e.forgotPassword}),c=a.error,l=a.message,o=a.loading,i=Object(n.useState)(""),s=Object(W.a)(i,2),u=s[0],m=s[1];return Object(n.useEffect)(function(){c&&(t.error(c),e(fe())),l&&t.success(l)},[e,c,t,l]),r.a.createElement(n.Fragment,null,o?r.a.createElement(P,null):r.a.createElement(n.Fragment,null,r.a.createElement(C,{title:"Forgot Password"}),r.a.createElement("div",{className:"forgotPasswordContainer"},r.a.createElement("div",{className:"forgotPasswordBox"},r.a.createElement("h2",{className:"forgotPasswordHeading"},"Forgot Password"),r.a.createElement("form",{className:"forgotPasswordForm",onSubmit:function(t){t.preventDefault();var a=new FormData;a.set("email",u),e(function(e){return function(){var t=Object(I.a)(w.a.mark(function t(a){var n,r,c;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:" FORGOT_PASSWORD_REQUEST"}),n={headers:{"Content-Type":"application/json"}},t.next=5,L.a.post("https://onlinemoviebooking-backend.herokuapp.com/api/v1/password/forgot",e,n);case 5:r=t.sent,c=r.data,a({type:" FORGOT_PASSWORD_SUCCESS",payload:c.message}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:"FORGOT_PASSWORD_FAIL",payload:t.t0.response.data.message});case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()}(a))}},r.a.createElement("div",{className:"forgotPasswordEmail"},r.a.createElement(ie.a,null),r.a.createElement("input",{type:"email",placeholder:"Email",required:!0,name:"email",value:u,onChange:function(e){return m(e.target.value)}})),r.a.createElement("input",{type:"submit",value:"Send",className:"forgotPasswordBtn"}))))))}),Ye=(a(804),function(){var e=Object(x.b)(),t=Object(F.d)(),a=Object(b.A)().token,c=Object(x.c)(function(e){return e.forgotPassword}),l=c.error,o=c.success,i=c.loading,s=Object(n.useState)(""),u=Object(W.a)(s,2),m=u[0],d=u[1],E=Object(n.useState)(""),p=Object(W.a)(E,2),v=p[0],f=p[1];return Object(n.useEffect)(function(){l&&(t.error(l),e(fe())),o&&(t.success("password updated successfully"),window.location.href="/login")},[e,l,t,o,"/account"]),r.a.createElement(n.Fragment,null,i?r.a.createElement(P,null):r.a.createElement(n.Fragment,null,r.a.createElement(C,{title:"Update Password"}),r.a.createElement("div",{className:"resetPasswordContainer"},r.a.createElement("div",{className:"resetPasswordBox"},r.a.createElement("h2",{className:"resetPasswordHeading"},"Update Password"),r.a.createElement("form",{className:"resetPasswordForm",onSubmit:function(t){t.preventDefault();var n=new FormData;n.set("Password",m),n.set("confirmPassword",v),e(function(e,t){return function(){var a=Object(I.a)(w.a.mark(function a(n){var r,c,l;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:" RESET_PASSWORD_REQUEST"}),r={headers:{"Content-Type":"application/json"}},a.next=5,L.a.put("https://onlinemoviebooking-backend.herokuapp.com/api/v1/password/reset/".concat(e),t,r);case 5:c=a.sent,l=c.data,n({type:" RESET_PASSWORD_SUCCESS",payload:l.success}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),n({type:"RESET_PASSWORD_FAIL",payload:a.t0.response.data.message});case 13:case"end":return a.stop()}},a,null,[[0,10]])}));return function(e){return a.apply(this,arguments)}}()}(a,n))}},r.a.createElement("div",null,r.a.createElement(ue.a,null),r.a.createElement("input",{type:"password",placeholder:"New Password",required:!0,value:m,onChange:function(e){return d(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(Qe.a,null),r.a.createElement("input",{type:"password",placeholder:"Confirm Password",required:!0,value:v,onChange:function(e){return f(e.target.value)}})),r.a.createElement("input",{type:"submit",value:"Update",className:"resetPasswordBtn"}))))))}),Je=(a(806),a(808),function(e){var t=e.item,a=e.deleteCartItems;return r.a.createElement("div",{className:"CartItemCard"},r.a.createElement("img",{src:t.image,alt:"ssa"}),r.a.createElement("div",null,r.a.createElement(g.Link,{to:"/movie/".concat(t.movie)},t.name),r.a.createElement("span",null,"Price: \u20b9".concat(t.price)),r.a.createElement("p",{onClick:function(){return a(t.movie)}},"Remove")))}),Ke=a(917),Xe=a(385),Ze=a.n(Xe),$e=function(e){Object(le.a)(e);var t=Object(x.b)(),a=Object(x.c)(function(e){return e.cart}).cartItems,c=function(e){t(function(e){return function(){var t=Object(I.a)(w.a.mark(function t(a,n){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a({type:" REMOVE_CART_ITEM",payload:e}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems));case 2:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()}(e))};return r.a.createElement(n.Fragment,null,r.a.createElement(C,{title:"Cart"}),0===a.length?r.a.createElement("div",{className:"emptyCart"},r.a.createElement(Ze.a,null),r.a.createElement(Ke.a,null,"No Movies in Your Cart"),r.a.createElement(g.Link,{to:"/movies"},"View Movies")):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"cartPage"},r.a.createElement("div",{className:"cartHeader"},r.a.createElement("p",null,"Movies"),r.a.createElement("p",null,"Seats"),r.a.createElement("p",null,"Subtotal")),a&&a.map(function(e){return r.a.createElement("div",{className:"cartContainer",key:e.movie},r.a.createElement(Je,{item:e,deleteCartItems:c}),r.a.createElement("div",{className:"cartInput"},r.a.createElement("button",{onClick:function(){return a=e.movie,void(1>=(n=e.quantity)||t(q(a,n-1)));var a,n}},"-"),r.a.createElement("input",{type:"number",value:e.quantity,readOnly:!0}),r.a.createElement("button",{onClick:function(){return a=e.movie,n=e.quantity,void(e.seats<=n||t(q(a,n+1)));var a,n}},"+")),r.a.createElement("p",{className:"cartSubtotal"},"\u20b9".concat(e.price*e.quantity)))}),r.a.createElement("div",{className:"cartGrossProfit"},r.a.createElement("div",null),r.a.createElement("div",{className:"cartGrossProfitBox"},r.a.createElement("p",null,"Gross Total"),r.a.createElement("p",null,"\u20b9".concat(a.reduce(function(e,t){return e+t.quantity*t.price},0)))),r.a.createElement("div",null),r.a.createElement("div",{className:"checkOutBtn"},r.a.createElement("button",{onClick:function(){window.location.href="/login?redirect=shipping"}},"Check Out"))))))},et=(a(810),a(394)),tt=a.n(et),at=a(392),nt=a.n(at),rt=a(393),ct=a.n(rt),lt=a(395),ot=a.n(lt),it=a(929),st=a(945),ut=a(922),mt=a(389),dt=a.n(mt),Et=a(390),pt=a.n(Et),vt=a(391),ft=a.n(vt),gt=(a(812),function(e){var t=e.activeSteps;console.log(t);var a=[{label:r.a.createElement(ee.a,null,"Ticket Details"),icon:r.a.createElement(dt.a,null)},{label:r.a.createElement(ee.a,null,"Confirm Ticket"),icon:r.a.createElement(pt.a,null)},{label:r.a.createElement(ee.a,null,"Payment"),icon:r.a.createElement(ft.a,null)}];return r.a.createElement(n.Fragment,null,r.a.createElement(it.a,{alternativeLabel:!0,activeStep:t,style:{boxSizing:"border-box"}},a.map(function(e,a){return r.a.createElement(st.a,{key:a,active:t===a,completed:t>=a},r.a.createElement(ut.a,{style:{color:t>=a?"tomato":"rgba(0,0,0,0.649)"},icon:e.icon},e.label))})))}),bt=function(){var e=Object(x.b)(),t=Object(F.d)(),a=Object(x.c)(function(e){return e.cart}).shippingInfo,c=Object(n.useState)(a.address),l=Object(W.a)(c,2),o=l[0],i=l[1],s=Object(n.useState)(a.city),u=Object(W.a)(s,2),m=u[0],d=u[1],E=Object(n.useState)(a.pinCode),p=Object(W.a)(E,2),v=p[0],f=p[1],g=Object(n.useState)(a.phoneNo),b=Object(W.a)(g,2),h=b[0],S=b[1];return r.a.createElement(n.Fragment,null,r.a.createElement(C,{title:"Movie Ticket Details"}),r.a.createElement(gt,{activeSteps:0}),r.a.createElement("div",{className:"shippingContainer"},r.a.createElement("div",{className:".shippingBox"},r.a.createElement("h2",{className:"shippingHeading"},"Ticket Details"),r.a.createElement("form",{className:"shippingForm",encType:"multipart/form-data",onSubmit:function(a){var n;a.preventDefault(),h.length<10||h.length>10?t.error("Phone number should be 10 digits Long"):(e((n={address:o,city:m,pinCode:v,phoneNo:h},function(){var e=Object(I.a)(w.a.mark(function e(t,a){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:" SAVE_SHIPPING_INFO ",payload:n}),localStorage.setItem("shippingInfo",JSON.stringify(n));case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())),window.location.href="/order/confirm")}},r.a.createElement("div",null,r.a.createElement(nt.a,null),r.a.createElement("input",{type:"text",placeholder:"Address",required:!0,value:o,onChange:function(e){return i(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(ct.a,null),r.a.createElement("input",{type:"text",placeholder:"City",required:!0,value:m,onChange:function(e){return d(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(tt.a,null),r.a.createElement("input",{type:"number",placeholder:"Pin-Code",required:!0,value:v,onChange:function(e){return f(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(ot.a,null),r.a.createElement("input",{type:"number",placeholder:"Phone-Number",required:!0,value:h,onChange:function(e){return S(e.target.value)},size:"10"})),r.a.createElement("input",{type:"submit",value:"Continue",className:"shippingBtn",disabled:!h})))))},ht=(a(814),function(){var e=Object(x.c)(function(e){return e.cart}),t=e.shippingInfo,a=e.cartItems,c=Object(x.c)(function(e){return e.user}).user,l=a.reduce(function(e,t){return e+t.quantity*t.price},0),o=l>1e3?0:80,i=.18*l,s=l+o+i,u="".concat(t.address,",").concat(t.city,",").concat(t.pincode);return r.a.createElement(n.Fragment,null,r.a.createElement(C,{title:"Confirm Ticket"}),r.a.createElement(gt,{activeSteps:1}),r.a.createElement("div",{className:"confirmOrderPage"},r.a.createElement("div",null,r.a.createElement("div",{className:"confirmshippingArea"},r.a.createElement(ee.a,null,"Movie Info"),r.a.createElement("div",{className:"confirmshippingAreaBox"},r.a.createElement("div",null,r.a.createElement("p",null,"Name:"),r.a.createElement("span",null,c.name)),r.a.createElement("div",null,r.a.createElement("p",null,"Mobile:"),r.a.createElement("span",null,t.phoneNo)),r.a.createElement("div",null,r.a.createElement("p",null,"Address:"),r.a.createElement("span",null,u)))),r.a.createElement("div",{className:"confirmCartItems"},r.a.createElement(ee.a,null,"Your Movie Tickets "),r.a.createElement("div",{className:"confirmCartItemsContainer"},a&&a.map(function(e){return r.a.createElement("div",{key:e.movie},r.a.createElement("img",{src:e.image,alt:"Movie"}),r.a.createElement(g.Link,{to:"/movie/".concat(e.movie)},e.name),r.a.createElement("span",null,e.quantity," X \u20b9",e.price," =",".",r.a.createElement("b",null," \u20b9 ",e.price*e.quantity)))})))),r.a.createElement("div",null,r.a.createElement("div",{className:"orderSummary"},r.a.createElement(ee.a,null,"Movie Ticket Details"),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",null," Subtotal:"),r.a.createElement("span",null," \u20b9",l)),r.a.createElement("div",null,r.a.createElement("p",null,"Booking Charges:"),r.a.createElement("span",null," \u20b9",o)),r.a.createElement("div",null,r.a.createElement("p",null,"GST:"),r.a.createElement("span",null," \u20b9",i)),r.a.createElement("div",{className:"orderSummaryTotal"},r.a.createElement("p",null,r.a.createElement("b",null,"Total:")),r.a.createElement("span",null," \u20b9",s)),r.a.createElement("button",{className:"paymentBtn",onClick:function(){var e={subtotal:l,shippingCharges:o,tax:i,totalPrice:s};sessionStorage.setItem("orderInfo",JSON.stringify(e)),window.location.href="/process/payment"}},"Proceed To Payment"))))))}),St=a(111),Ot=(a(816),a(502)),yt=a.n(Ot),Rt=a(503),_t=a.n(Rt),Ct=function(e){return function(){var t=Object(I.a)(w.a.mark(function t(a){var n,r,c;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"CREATE_ORDER_REQUEST "}),n={headers:{"Content-Type":"application/json"}},t.next=5,L.a.post("https://onlinemoviebooking-backend.herokuapp.com/api/v1/order/new",e,n);case 5:r=t.sent,c=r.data,a({type:" CREATE_ORDER_SUCCESS ",payload:c}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:"CREATE_ORDER_FAIL",payload:t.t0.response.data.message});case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()},jt=function(e){return function(){var t=Object(I.a)(w.a.mark(function t(a){var n,r;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDER_DETAILS_REQUEST "}),{headers:{"Content-Type":"application/json"}},t.next=5,L.a.get("https://onlinemoviebooking-backend.herokuapp.com/api/v1/order/".concat(e));case 5:n=t.sent,r=n.data,a({type:" ORDER_DETAILS_SUCCESS ",payload:r.order}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:"ORDER_DETAILS_FAIL",payload:t.t0.response.data.message});case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()},wt=function(){return function(){var e=Object(I.a)(w.a.mark(function e(t){var a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ALL_ORDERS_REQUEST "}),e.next=4,L.a.get("https://onlinemoviebooking-backend.herokuapp.com/api/v1/admin/orders");case 4:a=e.sent,n=a.data,t({type:"ALL_ORDERS_SUCCESS ",payload:n.orders}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"ALL_ORDERS_FAIL",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},It=function(){return function(){var e=Object(I.a)(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_ERRORS"});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},kt=function(){var e=JSON.parse(sessionStorage.getItem("orderInfo")),t=Object(n.useRef)(null),a=Object(x.b)(),c=Object(F.d)(),l=Object(St.useStripe)(),o=Object(St.useElements)(),i=Object(x.c)(function(e){return e.cart}),s=i.shippingInfo,u=i.cartItems,m=Object(x.c)(function(e){return e.user}).user,d=Object(x.c)(function(e){return e.newOrder}).error,E={amount:Math.round(100*e.totalPrice)},p={shippingInfo:s,orderItems:u,itemsPrice:e.subtotal,taxPrice:e.tax,shippingPrice:e.shippingCharges,totalPrice:e.totalPrice},v=function(){var e=Object(I.a)(w.a.mark(function e(n){var r,i,u,d,v;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),t.current.disabled=!0,e.prev=2,r={headers:{"Content-Type":"application/json"}},e.next=6,L.a.post("/api/v1/payment/process",E,r);case 6:if(i=e.sent,u=i.data,d=u.client_secret,l&&o){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,l.confirmCardPayment(d,{payment_method:{card:o.getElement(St.CardNumberElement),billing_details:{name:m.name,email:m.email,address:{line1:s.address,city:s.city,postal_code:s.pinCode}}}});case 13:(v=e.sent).error?(t.current.disabled=!1,c.error(v.error.message)):"succeeded"===v.paymentIntent.status?(p.paymentInfo={id:v.paymentIntent.id,status:v.paymentIntent.status},a(Ct(p)),window.location.href="/success"):c.error("Something went wrong while processing payment Try again"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),t.current.disabled=!1,c.error(e.t0.response.data.message);case 21:case"end":return e.stop()}},e,null,[[2,17]])}));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){d&&(c.error(d),a(It()))},[a,d,c]),r.a.createElement(n.Fragment,null,r.a.createElement(C,{title:"Payment"}),r.a.createElement(gt,{activeSteps:2}),r.a.createElement("div",{className:"paymentContainer"},r.a.createElement("form",{className:"paymentForm",onSubmit:function(e){return v(e)}},r.a.createElement(ee.a,null,"Card Info"),r.a.createElement("div",null,r.a.createElement(yt.a,null),r.a.createElement(St.CardNumberElement,{className:"paymentInput"})),r.a.createElement("div",null,r.a.createElement(_t.a,null),r.a.createElement(St.CardExpiryElement,{className:"paymentInput"})),r.a.createElement("div",null,r.a.createElement(Ge.a,null),r.a.createElement(St.CardCvcElement,{className:"paymentInput"})),r.a.createElement("input",{type:"submit",value:"Pay \u20b9 ".concat(e&&e.totalPrice),ref:t,className:"paymentFormBtn"}))))},Lt=a(504),At=a.n(Lt),Tt=(a(818),function(){return r.a.createElement("div",{className:"orderSuccess"},r.a.createElement(C,{title:"TicketBooked"}),r.a.createElement(At.a,null),r.a.createElement(ee.a,null,"Your Movie tickets has been  Booked Successfully :-)"),r.a.createElement(g.Link,{to:"/orders"},"View Tickets"))}),Nt=a(919),Dt=(a(820),a(505)),Ut=a.n(Dt),xt=function(){var e=Object(x.b)(),t=Object(F.d)(),a=Object(x.c)(function(e){return e.myOrders}),c=a.loading,l=a.orders,o=a.error,i=Object(x.c)(function(e){return e.user}).user,s=[{field:"id",headerName:"Booking ID",minWidth:300,flex:1},{field:"status",headerName:"Status",minWidth:150,flex:.5,cellClassName:function(e){return"Booked"===e.getValue(e.id,"status")?"greenColor":"redColor"}},{field:"movies_qty",headerName:"Movies",type:"number",minWidth:150,flex:.3},{field:"amount",headerName:"Amount",type:"number",minWidth:270,flex:.5},{field:"actions",headerName:"ViewTicket",type:"number",minWidth:100,flex:.3,sortable:!1,renderCell:function(e){return r.a.createElement(g.Link,{to:"/order/".concat(e.getValue(e.id,"id"))},r.a.createElement(Ut.a,null))}}],u=[];return l&&l.forEach(function(e,t){u.push({movies_qty:e.orderItems.length,id:e._id,status:e.orderStatus,amount:e.totalPrice})}),Object(n.useEffect)(function(){o&&(t.error(o),e(It())),e(function(){var e=Object(I.a)(w.a.mark(function e(t){var a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"MY_ORDERS_REQUEST "}),e.next=5,L.a.get("https://onlinemoviebooking-backend.herokuapp.com/api/v1/orders/me");case 5:a=e.sent,n=a.data,t({type:" MY_ORDERS_SUCCESS ",payload:n.orders}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"MY_ORDERS_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}())},[e,t,o]),r.a.createElement(n.Fragment,null,r.a.createElement(C,{title:"".concat(i.name," -Bookings")}),c?r.a.createElement(P,null):r.a.createElement("div",{className:"myOrdersPage"},r.a.createElement(Nt.a,{rows:u,columns:s,pageSize:10,disableSelectionOnClick:!0,className:"myOrdersTable",autoHeight:!0}),r.a.createElement(ee.a,{id:"myOrdersHeading"},i.name,"'s Bookings")))},Pt=(a(822),function(){var e=Object(x.c)(function(e){return e.orderDetails}),t=e.order,a=e.error,c=e.loading,l=Object(x.b)(),o=Object(F.d)(),i=Object(b.A)().id;return Object(n.useEffect)(function(){a&&(o.error(a),l(It())),l(jt(i))},[l,o,a,i]),r.a.createElement(n.Fragment,null,c?r.a.createElement(P,null):r.a.createElement(n.Fragment,null,r.a.createElement(C,{title:"Ticket Details"}),r.a.createElement("div",{className:"orderDetailsPage"},r.a.createElement("div",{className:"orderDetailsContainer"},r.a.createElement(ee.a,{component:"h1"},"Ticket #",t&&t._id),r.a.createElement("div",{className:"orderDetailsContainerBox"},r.a.createElement("div",null,r.a.createElement("p",null,"Name :"),r.a.createElement("span",null,t.user&&t.user.name)),r.a.createElement("div",null,r.a.createElement("p",null,"Phone :"),r.a.createElement("span",null,t.shippingInfo&&t.shippingInfo.phoneNo)),r.a.createElement("div",null,r.a.createElement("p",null,"Address :"),r.a.createElement("span",null,t.shippingInfo&&"".concat(t.shippingInfo.address,",").concat(t.shippingInfo.city,",").concat(t.shippingInfo.pinCode)))),r.a.createElement(ee.a,null,"Payment"),r.a.createElement("div",{className:"orderDetailsContainerBox"},r.a.createElement("div",null,r.a.createElement("p",{className:t.paymentInfo&&"succeeded"===t.paymentInfo.status?"greenColor":"redColor"},t.paymentInfo&&"succeeded"===t.paymentInfo.status?"PAID":"NOT PAID")),r.a.createElement("div",null,r.a.createElement("p",null,"Amount : "),r.a.createElement("span",null,t.totalPrice&&t.totalPrice))),r.a.createElement(ee.a,null,"Ticket Status"),r.a.createElement("div",{className:"orderDetailsContainerBox"},r.a.createElement("div",null,r.a.createElement("p",{className:t.orderStatus&&"TicketBooked"===t.orderStatus?"greenColor":"redColor"},t.orderStatus&&t.orderStatus)))),r.a.createElement("div",{className:"orderDetailsCartItems"},r.a.createElement(ee.a,null,"Booked Movies :"),r.a.createElement("div",{className:"orderDetailsCartItemsContainer"},t.orderItems&&t.orderItems.map(function(e){return r.a.createElement("div",{key:e.movie},r.a.createElement("img",{src:e.image,alt:"movie"}),r.a.createElement(g.Link,{to:"/movie/".concat(e.movie)},e.name),r.a.createElement("span",null,e.quantity," X \u20b9",e.price," = ","",r.a.createElement("b",null,"\u20b9 ",e.price*e.quantity)))}))))))}),Ft=(a(824),a(946)),Mt=a(923),Wt=a(508),Vt=a.n(Wt),Bt=a(510),Qt=a.n(Bt),qt=a(511),Gt=a.n(qt),Ht=a(509),zt=a.n(Ht),Yt=a(507),Jt=a.n(Yt),Kt=a(512),Xt=a.n(Kt),Zt=a(513),$t=a.n(Zt),ea=function(){return r.a.createElement("div",{className:"sidebar"},r.a.createElement(g.Link,{to:"/"},r.a.createElement("img",{src:s.a,alt:"BookMyShow"})),r.a.createElement(g.Link,{to:"/admin/dashboard"},r.a.createElement("p",null,r.a.createElement(Jt.a,null)," Dashboard")),r.a.createElement(g.Link,{to:"/admin/dashboard"},r.a.createElement(Ft.a,{defaultCollapseIcon:r.a.createElement(Vt.a,null),defaultExpandIcon:r.a.createElement(zt.a,null)},r.a.createElement(Mt.a,{nodeId:"1",label:"Movies"},r.a.createElement(g.Link,{to:"/admin/movies"},r.a.createElement(Mt.a,{nodeId:"2",label:"All",icon:r.a.createElement(Qt.a,null)})),r.a.createElement(g.Link,{to:"/admin/movie"},r.a.createElement(Mt.a,{nodeId:"3",label:"Create",icon:r.a.createElement(Gt.a,null)}))))),r.a.createElement(g.Link,{to:"/admin/orders"},r.a.createElement("p",null,r.a.createElement(xe.a,null),"Orders")),r.a.createElement(g.Link,{to:"/admin/users"},r.a.createElement("p",null,r.a.createElement(Xt.a,null)," Users")),r.a.createElement(g.Link,{to:"/admin/reviews"},r.a.createElement("p",null,r.a.createElement($t.a,null),"Reviews")))},ta=(a(826),a(240)),aa=a(91);aa.c.register.apply(aa.c,Object(Oe.a)(aa.j));var na=function(){var e=Object(x.b)(),t=Object(x.c)(function(e){return e.movies}).movies,a=Object(x.c)(function(e){return e.allOrders}).orders,c=Object(x.c)(function(e){return e.allUsers}).users,l=0;t&&t.forEach(function(e){0===e.seats&&(l+=1)}),Object(n.useEffect)(function(){e(N()),e(wt()),e(ve())},[e]);var o=0;a&&a.forEach(function(e){o+=e.totalPrice});var i={labels:["Intial Amount","Amount Earned"],datasets:[{label:"TOTAL AMOUNT",backgroundColor:["tomato"],hoverBackgroundColor:["rgb(197,72,49)"],data:[0,o]}]},s={labels:["HOUSEFULL "," AVAILABLE MOVIES"],datasets:[{backgroundColor:["#00A6B4","#6800B4"],hoverBackgroundColor:["rgb(197,72,49)"],data:[l,t.length-l]}]};return r.a.createElement("div",{className:"dashboard"},r.a.createElement(C,{title:"Admin Dashboard"}),r.a.createElement(ea,null),r.a.createElement("div",{className:"dashboardContainer"},r.a.createElement(ee.a,{component:"h1"},"Dashboard"),r.a.createElement("div",{className:"dashboardSummary"},r.a.createElement("div",null,r.a.createElement("p",null,"Total Amount ",r.a.createElement("br",null),"\u20b9",o)),r.a.createElement("div",{className:"dashboardSummaryBox2"},r.a.createElement(g.Link,{to:"/admin/movies"},r.a.createElement("p",null,"Movies"),r.a.createElement("p",null,t&&t.length)),r.a.createElement(g.Link,{to:"/admin/orders"},r.a.createElement("p",null,"Orders"),r.a.createElement("p",null,a&&a.length)),r.a.createElement(g.Link,{to:"/admin/users"},r.a.createElement("p",null,"Users"),r.a.createElement("p",null,c&&c.length)))),r.a.createElement("div",{className:"lineChart"},r.a.createElement(ta.b,{data:i})),r.a.createElement("div",{className:"doughnutChart"},r.a.createElement(ta.a,{data:s}))))},ra=(a(366),a(163)),ca=a.n(ra),la=a(130),oa=a.n(la),ia=function(){var e=Object(x.b)(),t=Object(F.d)(),a=Object(x.c)(function(e){return e.movies}),c=a.error,l=a.movies,o=Object(x.c)(function(e){return e.movie}),i=o.error,s=o.isDeleted,u=function(t){e(function(e){return function(){var t=Object(I.a)(w.a.mark(function t(a){var n,r;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"DELETE_MOVIE_REQUEST"}),t.next=4,L.a.delete("https://onlinemoviebooking-backend.herokuapp.com/api/v1/admin/movie/".concat(e));case 4:n=t.sent,r=n.data,a({type:"DELETE_MOVIE_SUCCESS",payload:r.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"DELETE_MOVIE_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()}(t))};Object(n.useEffect)(function(){c&&(t.error(c),e(U())),i&&(t.error(i),e(U())),s&&(t.success("Movie Deleted Sucessfully"),window.location.href="/admin/dashboard",e({type:"DELETE_MOVIE_RESET"})),e(N())},[e,t,c,i,s]);var m=[{field:"id",headerName:"Movie ID",minWidth:200,flex:.5},{field:"name",headerName:"Movie Name",minWidth:350,flex:1},{field:"seats",headerName:"Seats",type:"number",minWidth:150,flex:.3},{field:"price",headerName:"Price",type:"number",minWidth:270,flex:.5},{field:"actions",headerName:"Action",type:"number",minWidth:150,flex:.3,sortable:!1,renderCell:function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(g.Link,{to:"/admin/movie/".concat(e.getValue(e.id,"id"))},r.a.createElement(ca.a,null)),r.a.createElement(J.a,{onClick:function(){return u(e.getValue(e.id,"id"))}},r.a.createElement(oa.a,null)))}}],d=[];return l&&l.forEach(function(e,t){d.push({id:e._id,seats:e.seats,price:e.price,name:e.name})}),r.a.createElement(n.Fragment,null,r.a.createElement(C,{title:"{'ALL MOVIES -Admin'}"}),r.a.createElement("div",{className:"dashboard"},r.a.createElement(ea,null),r.a.createElement("div",{className:"movieListContainer"},r.a.createElement("h1",{id:"movieListHeading"},"ALL MOVIES"),r.a.createElement(Nt.a,{rows:d,columns:m,pageSize:10,disableSelectionOnClick:!0,className:"movieListTable",autoHeight:!0}))))},sa=(a(367),a(164)),ua=a.n(sa),ma=a(237),da=a.n(ma),Ea=a(238),pa=a.n(Ea),va=a(235),fa=a.n(va),ga=a(236),ba=a.n(ga),ha=function(){var e=Object(x.b)(),t=Object(F.d)(),a=Object(x.c)(function(e){return e.newMovie}),c=a.loading,l=a.error,o=a.success,i=Object(n.useState)(""),s=Object(W.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(0),E=Object(W.a)(d,2),p=E[0],v=E[1],f=Object(n.useState)(""),g=Object(W.a)(f,2),b=g[0],h=g[1],S=Object(n.useState)(""),O=Object(W.a)(S,2),y=O[0],R=O[1],_=Object(n.useState)(0),j=Object(W.a)(_,2),k=j[0],A=j[1],T=Object(n.useState)([]),N=Object(W.a)(T,2),D=N[0],P=N[1],M=Object(n.useState)([]),V=Object(W.a)(M,2),B=V[0],Q=V[1];Object(n.useEffect)(function(){l&&(t.error(l),e(U())),o&&(t.success("Movie Created Successfully"),window.location.href="/admin/dashboard",e({type:"NEW_MOVIE_RESET"}))},[e,t,l,o]);return r.a.createElement(n.Fragment,null,r.a.createElement(C,{title:"Create Movie"}),r.a.createElement("div",{className:"dashboard"},r.a.createElement(ea,null),r.a.createElement("div",{className:"newMovieContainer"},r.a.createElement("form",{className:"createMovieForm",encType:"multipart/form-data",onSubmit:function(t){t.preventDefault();var a,n=new FormData;n.set("name",u),n.set("price",p),n.set("description",b),n.set("genre",y),n.set("Seats",k),D.forEach(function(e){n.append("images",e)}),e((a=n,function(){var e=Object(I.a)(w.a.mark(function e(t){var n,r,c;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"NEW_MOVIE_REQUEST"}),n={headers:{"Content-Type":"application/json"}},e.next=5,L.a.post("https://onlinemoviebooking-backend.herokuapp.com/api/v1/admin/movie/new",a,n);case 5:r=e.sent,c=r.data,t({type:"NEW_MOVIE_SUCCESS",payload:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"NEW_MOVIE_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))}},r.a.createElement("h1",null,"Create Movie"),r.a.createElement("div",null,r.a.createElement(fa.a,null),r.a.createElement("input",{type:"text",placeholder:"Movie Name",required:!0,value:u,onChange:function(e){return m(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(ba.a,null),r.a.createElement("input",{type:"number",placeholder:"Price",required:!0,onChange:function(e){return v(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(da.a,null),r.a.createElement("textarea",{placeholder:"Movie Description",value:b,onChange:function(e){return h(e.target.value)},cols:"30",rows:"1"})),r.a.createElement("div",null,r.a.createElement(ua.a,null),r.a.createElement("select",{onChange:function(e){return R(e.target.value)}},r.a.createElement("option",{value:""},"Choose Genre"),["Horror","Comedy","Sports","Science","Love","Action","Suspense"].map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",null,r.a.createElement(pa.a,null),r.a.createElement("input",{type:"number",placeholder:"Seats",required:!0,onChange:function(e){return A(e.target.value)}})),r.a.createElement("div",{id:"createMovieFormFile"},r.a.createElement("input",{type:"file",name:"avatar",accept:"image/*",onChange:function(e){var t=Array.from(e.target.files);P([]),Q([]),t.forEach(function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(Q(function(e){return[].concat(Object(Oe.a)(e),[t.result])}),P(function(e){return[].concat(Object(Oe.a)(e),[t.result])}))},t.readAsDataURL(e)})},multiple:!0})),r.a.createElement("div",{id:"createMovieFormImage"},B.map(function(e,t){return r.a.createElement("img",{key:t,src:e,alt:"Movie Preview"})})),r.a.createElement(J.a,{id:"createMovieBtn",type:"submit",disabled:!!c},"Create")))))},Sa=function(){var e=Object(x.b)(),t=Object(F.d)(),a=Object(x.c)(function(e){return e.movieDetails}),c=a.error,l=a.movie,o=Object(x.c)(function(e){return e.movie}),i=o.loading,s=o.error,u=o.isUpdated,m=Object(n.useState)(""),d=Object(W.a)(m,2),E=d[0],p=d[1],v=Object(n.useState)(0),f=Object(W.a)(v,2),g=f[0],h=f[1],S=Object(n.useState)(""),O=Object(W.a)(S,2),y=O[0],R=O[1],_=Object(n.useState)(""),j=Object(W.a)(_,2),k=j[0],A=j[1],N=Object(n.useState)(0),D=Object(W.a)(N,2),P=D[0],M=D[1],V=Object(n.useState)([]),B=Object(W.a)(V,2),Q=B[0],q=B[1],G=Object(n.useState)([]),H=Object(W.a)(G,2),z=H[0],Y=H[1],K=Object(n.useState)([]),X=Object(W.a)(K,2),Z=X[0],$=X[1],ee=Object(b.A)().id;Object(n.useEffect)(function(){l&&l._id!==ee?e(T(ee)):(p(l.name),R(l.description),A(l.genre),M(l.seats),Y(l.images),h(l.price)),c&&(t.error(c),e(U())),s&&(t.error(s),e(U())),u&&(t.success("Movie Updated Successfully"),window.location.href="/admin/movies",e({type:"UPDATE_MOVIE_RESET"}))},[e,t,c,u,ee,l,s]);return r.a.createElement(n.Fragment,null,r.a.createElement(C,{title:"Update Movie"}),r.a.createElement("div",{className:"dashboard"},r.a.createElement(ea,null),r.a.createElement("div",{className:"newMovieContainer"},r.a.createElement("form",{className:"createMovieForm",encType:"multipart/form-data",onSubmit:function(t){t.preventDefault();var a,n,r=new FormData;r.set("name",E),r.set("price",g),r.set("description",y),r.set("genre",k),r.set("seats",P),Q.forEach(function(e){r.append("images",e)}),e((a=ee,n=r,function(){var e=Object(I.a)(w.a.mark(function e(t){var r,c,l;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"UPDATE_MOVIE_REQUEST"}),r={headers:{"Content-Type":"application/json"}},e.next=5,L.a.put("https://onlinemoviebooking-backend.herokuapp.com/api/v1/admin/movie/".concat(a),n,r);case 5:c=e.sent,l=c.data,t({type:"UPDATE_MOVIE_SUCCESS",payload:l.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"UPDATE_MOVIE_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))}},r.a.createElement("h1",null,"Update Movie"),r.a.createElement("div",null,r.a.createElement(fa.a,null),r.a.createElement("input",{type:"text",placeholder:"Movie Name",required:!0,value:E,onChange:function(e){return p(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(ba.a,null),r.a.createElement("input",{value:g,type:"number",placeholder:"Price",required:!0,onChange:function(e){return h(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(da.a,null),r.a.createElement("textarea",{placeholder:"Movie Description",value:y,onChange:function(e){return R(e.target.value)},cols:"30",rows:"1"})),r.a.createElement("div",null,r.a.createElement(ua.a,null),r.a.createElement("select",{value:k,onChange:function(e){return A(e.target.value)}},r.a.createElement("option",{value:""},"Choose Genre"),["Horror","Comedy","Sports","Science","Love","Action","Suspense"].map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",null,r.a.createElement(pa.a,null),r.a.createElement("input",{value:P,type:"number",placeholder:"Seats",required:!0,onChange:function(e){return M(e.target.value)}})),r.a.createElement("div",{id:"createMovieFormFile"},r.a.createElement("input",{type:"file",name:"avatar",accept:"image/*",onChange:function(e){var t=Array.from(e.target.files);q([]),$([]),Y([]),t.forEach(function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&($(function(e){return[].concat(Object(Oe.a)(e),[t.result])}),q(function(e){return[].concat(Object(Oe.a)(e),[t.result])}))},t.readAsDataURL(e)})},multiple:!0})),r.a.createElement("div",{id:"createMovieFormImage"},z&&z.map(function(e,t){return r.a.createElement("img",{key:t,src:e.url,alt:"old Movie Preview"})})),r.a.createElement("div",{id:"createMovieFormImage"},Z.map(function(e,t){return r.a.createElement("img",{key:t,src:e,alt:"Movie Preview"})})),r.a.createElement(J.a,{id:"createMovieBtn",type:"submit",disabled:!!i},"Update")))))},Oa=function(){var e=Object(x.b)(),t=Object(F.d)(),a=Object(x.c)(function(e){return e.allOrders}),c=a.error,l=a.orders,o=Object(x.c)(function(e){return e.order}),i=o.error,s=o.isDeleted,u=function(t){e(function(e){return function(){var t=Object(I.a)(w.a.mark(function t(a){var n,r;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:" DELETE_ORDER_REQUEST "}),t.next=4,L.a.delete("https://onlinemoviebooking-backend.herokuapp.com/api/v1/admin/order/".concat(e));case 4:n=t.sent,r=n.data,a({type:" DELETE_ORDER_SUCCESS ",payload:r.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:" DELETE_ORDER_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()}(t))};Object(n.useEffect)(function(){c&&(t.error(c),e(It())),i&&(t.error(i),e(It())),s&&(t.success("Order Deleted Sucessfully"),window.location.href="/admin/orders",e({type:" DELETE_ORDER_RESET"})),e(wt())},[e,t,c,i,s]);var m=[{field:"id",headerName:"Booking ID",minWidth:300,flex:1},{field:"status",headerName:"Status",minWidth:150,flex:.5,cellClassName:function(e){return"Delivered"===e.getValue(e.id,"status")?"greenColor":"redColor"}},{field:"quantity",headerName:"Movies Booked",type:"number",minWidth:310,flex:.3},{field:"price",headerName:"Amount",type:"number",minWidth:270,flex:.5},{field:"actions",headerName:"Action",type:"number",minWidth:150,flex:.3,sortable:!1,renderCell:function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(g.Link,{to:"/admin/order/".concat(e.getValue(e.id,"id"))},r.a.createElement(ca.a,null)),r.a.createElement(J.a,{onClick:function(){return u(e.getValue(e.id,"id"))}},r.a.createElement(oa.a,null)))}}],d=[];return l&&l.forEach(function(e,t){d.push({id:e._id,quantity:e.orderItems.length,price:e.totalPrice,status:e.orderStatus})}),r.a.createElement(n.Fragment,null,r.a.createElement(C,{title:"{'ALL BOOKINGS -Admin'}"}),r.a.createElement("div",{className:"dashboard"},r.a.createElement(ea,null),r.a.createElement("div",{className:"movieListContainer"},r.a.createElement("h1",{id:"movieListHeading"},"ALL BOOKINGS"),r.a.createElement(Nt.a,{rows:d,columns:m,pageSize:10,disableSelectionOnClick:!0,className:"movieListTable",autoHeight:!0}))))},ya=(a(830),function(){var e=Object(x.c)(function(e){return e.orderDetails}),t=e.order,a=e.error,c=e.loading,l=(Object(x.c)(function(e){return e.user}).user,Object(x.c)(function(e){return e.cart}).shippingInfo,Object(x.c)(function(e){return e.order})),o=l.error,i=l.isUpdated,s=Object(b.A)().id,u=Object(x.b)(),m=Object(F.d)(),d=Object(n.useState)(""),E=Object(W.a)(d,2),p=E[0],v=E[1];return Object(n.useEffect)(function(){a&&(m.error(a),u(It())),o&&(m.error(o),u(It())),i&&(m.success("Ticket Booked Successfully "),u({type:" UPDATE_ORDER_RESET"})),u(jt(s))},[u,m,a,s,i,o]),r.a.createElement(n.Fragment,null,r.a.createElement(C,{title:"Process Movie Ticket"}),r.a.createElement("div",{className:"dashboard"},r.a.createElement(ea,null),r.a.createElement("div",{className:"newMovieContainer"},c?r.a.createElement(P,null):r.a.createElement("div",{style:{display:"TicketBooked"===t.orderStatus?"block":"grid"},className:"confirmOrderPage"},r.a.createElement("div",null,r.a.createElement("div",{className:"confirmshippingArea"},r.a.createElement(ee.a,null,"Shipping Info"),r.a.createElement("div",{className:"orderDetailsContainerBox"},r.a.createElement("div",null,r.a.createElement("p",null,"Name :"),r.a.createElement("span",null,t.user&&t.user.name)),r.a.createElement("div",null,r.a.createElement("p",null,"Phone :"),r.a.createElement("span",null,t.shippingInfo&&t.shippingInfo.phoneNo)),r.a.createElement("div",null,r.a.createElement("p",null,"Address :"),r.a.createElement("span",null,t.shippingInfo&&"".concat(t.shippingInfo.address,",").concat(t.shippingInfo.city,",").concat(t.shippingInfo.pinCode)))),r.a.createElement(ee.a,null,"Payment"),r.a.createElement("div",{className:"orderDetailsContainerBox"},r.a.createElement("div",null,r.a.createElement("p",{className:t.paymentInfo&&"succeeded"===t.paymentInfo.status?"greenColor":"redColor"},t.paymentInfo&&"succeeded"===t.paymentInfo.status?"PAID":"NOT PAID")),r.a.createElement("div",null,r.a.createElement("p",null,"Amount : "),r.a.createElement("span",null,t.totalPrice&&t.totalPrice))),r.a.createElement(ee.a,null,"Ticket Status"),r.a.createElement("div",{className:"orderDetailsContainerBox"},r.a.createElement("div",null,r.a.createElement("p",{className:t.orderStatus&&"TicketBooked"===t.orderStatus?"greenColor":"redColor"},t.orderStatus&&t.orderStatus)))),r.a.createElement("div",{className:"confirmCartItems"},r.a.createElement(ee.a,null,"Your Movie Tickets "),r.a.createElement("div",{className:"confirmCartItemsContainer"},t.orderItems&&t.orderItems.map(function(e){return r.a.createElement("div",{key:e.movie},r.a.createElement("img",{src:e.image,alt:"Movie"}),r.a.createElement(g.Link,{to:"/movie/".concat(e.movie)},e.name),r.a.createElement("span",null,e.quantity," X \u20b9",e.price," =",".",r.a.createElement("b",null," \u20b9 ",e.price*e.quantity)))})))),r.a.createElement("div",{style:{display:"TicketBooked"===t.orderStatus?"none":"block"}},r.a.createElement("form",{className:"updateOrderForm",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("status",p),u(function(e,t){return function(){var a=Object(I.a)(w.a.mark(function a(n){var r,c,l;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:" UPDATE_ORDER_REQUEST "}),r={headers:{"Content-Type":"application/json"}},a.next=5,L.a.put("https://onlinemoviebooking-backend.herokuapp.com/api/v1/admin/order/".concat(e),t,r);case 5:c=a.sent,l=c.data,n({type:" UPDATE_ORDER_SUCCESS ",payload:l.success}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),n({type:" UPDATE_ORDER_FAIL",payload:a.t0.response.data.message});case 13:case"end":return a.stop()}},a,null,[[0,10]])}));return function(e){return a.apply(this,arguments)}}()}(s,t))}},r.a.createElement("h1",null,"Process Movie Ticket"),r.a.createElement("div",null,r.a.createElement(ua.a,null),r.a.createElement("select",{onChange:function(e){return v(e.target.value)}},r.a.createElement("option",{value:""},"Choose Category"),r.a.createElement("option",{value:"TicketBooked"},"Ticket Booked"))),r.a.createElement(J.a,{id:"createMovieBtn",type:"submit",disabled:!!c||""==p},"Update Status")))))))}),Ra=(a(832),a(921)),_a=function(e){Object(le.a)(e);var t=Object(x.b)(),a=Object(F.d)(),c=Object(x.c)(function(e){return e.allUsers}),l=c.error,o=c.users,i=Object(x.c)(function(e){return e.profile}),s=i.error,u=i.isDeleted,m=i.message,d=function(e){t(function(e){return function(){var t=Object(I.a)(w.a.mark(function t(a){var n,r;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"DELETE_USER_REQUEST"}),t.next=4,L.a.delete("https://onlinemoviebooking-backend.herokuapp.com/api/v1/admin/user/".concat(e));case 4:n=t.sent,r=n.data,a({type:" DELETE_USER_SUCCESS",payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"DELETE_USER_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()}(e))};Object(n.useEffect)(function(){l&&(a.error(l),t(fe())),s&&(a.error(s),t(fe())),u&&(a.success(m),window.location.href="/admin/users",t({type:"DELETE_USER_RESET"})),t(ve())},[t,a,l,s,u,m]);var E=[{field:"id",headerName:"User ID",minWidth:180,flex:.8},{field:"email",headerName:"Email",minWidth:200,flex:1},{field:"name",headerName:"Name",minWidth:150,flex:.5},{field:"role",headerName:"Role",type:"number",minWidth:150,flex:.3,cellClassName:function(e){return"admin"===e.getValue(e.id,"role")?"greenColor":"redColor"}},{field:"actions",flex:.3,headerName:"Actions",minWidth:150,type:"number",sortable:!1,renderCell:function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(g.Link,{to:"/admin/user/".concat(e.getValue(e.id,"id"))},r.a.createElement(ca.a,null)),r.a.createElement(Ra.a,{onClick:function(){return d(e.getValue(e.id,"id"))}},r.a.createElement(oa.a,null)))}}],p=[];return o&&o.forEach(function(e){p.push({id:e._id,role:e.role,email:e.email,name:e.name})}),r.a.createElement(n.Fragment,null,r.a.createElement(C,{title:"ALL USERS - Admin"}),r.a.createElement("div",{className:"dashboard"},r.a.createElement(ea,null),r.a.createElement("div",{className:"userListContainer"},r.a.createElement("h1",{id:"userListHeading"},"ALL USERS"),r.a.createElement(Nt.a,{rows:p,columns:E,pageSize:10,disableSelectionOnClick:!0,className:"userListTable",autoHeight:!0}))))},Ca=a(514),ja=a.n(Ca),wa=a(515),Ia=a.n(wa),ka=(a(834),function(e){Object(le.a)(e);var t=Object(x.b)(),a=Object(F.d)(),c=Object(x.c)(function(e){return e.userDetails}),l=c.loading,o=c.error,i=c.user,s=Object(b.A)().id,u=Object(x.c)(function(e){return e.profile}),m=u.loading,d=u.error,E=u.isUpdated,p=Object(n.useState)(""),v=Object(W.a)(p,2),f=v[0],g=v[1],h=Object(n.useState)(""),S=Object(W.a)(h,2),O=S[0],y=S[1],R=Object(n.useState)(""),_=Object(W.a)(R,2),j=_[0],k=_[1],A=s;Object(n.useEffect)(function(){var e;i&&i._id!==A?t((e=A,function(){var t=Object(I.a)(w.a.mark(function t(a){var n,r;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_DETAILS_REQUEST"}),t.next=4,L.a.get("https://onlinemoviebooking-backend.herokuapp.com/api/v1/admin/user/".concat(e));case 4:n=t.sent,r=n.data,a({type:" USER_DETAILS_SUCCESS",payload:r.user}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"USER_DETAILS_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}())):(g(i.name),y(i.email),k(i.role)),o&&(a.error(o),t(fe())),d&&(a.error(d),t(fe())),E&&(a.success("User Updated Successfully"),window.location.href="/admin/users",console.log("rputed"),t({type:"UPDATE_USER_RESET"}))},[t,a,o,E,d,i,A]);return r.a.createElement(n.Fragment,null,r.a.createElement(C,{title:"Update User"}),r.a.createElement("div",{className:"dashboard"},r.a.createElement(ea,null),r.a.createElement("div",{className:"newUserContainer"},l?r.a.createElement(P,null):r.a.createElement("form",{className:"createUserForm",onSubmit:function(e){e.preventDefault();var a,n,r=new FormData;r.set("name",f),r.set("email",O),r.set("role",j),t((a=A,n=r,function(){var e=Object(I.a)(w.a.mark(function e(t){var r,c,l;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"UPDATE_USER_REQUEST"}),r={headers:{"Content-Type":"application/json"}},e.next=5,L.a.put("https://onlinemoviebooking-backend.herokuapp.com/api/v1/admin/user/".concat(a),n,r);case 5:c=e.sent,l=c.data,t({type:" UPDATE_USER_SUCCESS",payload:l.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"UPDATE_USER_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))}},r.a.createElement("h1",null,"Update User"),r.a.createElement("div",null,r.a.createElement(Te.a,null),r.a.createElement("input",{type:"text",placeholder:"Name",required:!0,value:f,onChange:function(e){return g(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(ja.a,null),r.a.createElement("input",{type:"email",placeholder:"Email",required:!0,value:O,onChange:function(e){return y(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(Ia.a,null),r.a.createElement("select",{value:j,onChange:function(e){return k(e.target.value)}},r.a.createElement("option",{value:""},"Choose Role"),r.a.createElement("option",{value:"admin"},"Admin"),r.a.createElement("option",{value:"user"},"User"))),r.a.createElement(Ra.a,{id:"createUserBtn",type:"submit",disabled:!!m||""===j},"Update")))))}),La=(a(836),a(516)),Aa=a.n(La),Ta=function(e){Object(le.a)(e);var t=Object(x.b)(),a=Object(F.d)(),c=Object(x.c)(function(e){return e.review}),l=c.error,o=c.isDeleted,i=Object(x.c)(function(e){return e.movieReviews}),s=i.error,u=i.reviews,m=i.loading,d=Object(n.useState)(""),E=Object(W.a)(d,2),p=E[0],v=E[1],f=function(e){t(function(e,t){return function(){var a=Object(I.a)(w.a.mark(function a(n){var r,c;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"DELETE_REVIEW_REQUEST"}),a.next=4,L.a.delete("https://onlinemoviebooking-backend.herokuapp.com/api/v1/reviews?id=".concat(e,"&movieId=").concat(t));case 4:r=a.sent,c=r.data,n({type:"DELETE_REVIEW_SUCCESS",payload:c.success}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:"DELETE_REVIEW_FAIL",payload:a.t0.response.data.message});case 12:case"end":return a.stop()}},a,null,[[0,9]])}));return function(e){return a.apply(this,arguments)}}()}(e,p))};Object(n.useEffect)(function(){24===p.length&&t(D(p)),s&&(a.error(s),t(U())),l&&(a.error(l),t(U())),o&&(a.success("Review Deleted Successfully"),window.location.href="/admin/reviews",t({type:"DELETE_REVIEW_RESET"}))},[t,a,s,l,o,p]);var g=[{field:"id",headerName:"Review ID",minWidth:200,flex:.5},{field:"user",headerName:"User",minWidth:200,flex:.6},{field:"comment",headerName:"Comment",minWidth:350,flex:1},{field:"rating",headerName:"Rating",type:"number",minWidth:180,flex:.4,cellClassName:function(e){return e.getValue(e.id,"rating")>=3?"greenColor":"redColor"}},{field:"actions",flex:.3,headerName:"Actions",minWidth:150,type:"number",sortable:!1,renderCell:function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(Ra.a,{onClick:function(){return f(e.getValue(e.id,"id"))}},r.a.createElement(oa.a,null)))}}],b=[];return u&&u.forEach(function(e){b.push({id:e._id,rating:e.rating,comment:e.comment,user:e.name})}),r.a.createElement(n.Fragment,null,r.a.createElement(C,{title:"ALL REVIEWS - Admin"}),r.a.createElement("div",{className:"dashboard"},r.a.createElement(ea,null),r.a.createElement("div",{className:"movieReviewsContainer"},r.a.createElement("form",{className:"movieReviewsForm",onSubmit:function(e){e.preventDefault(),t(D(p))}},r.a.createElement("h1",{className:"movieReviewsFormHeading"},"ALL REVIEWS"),r.a.createElement("div",null,r.a.createElement(Aa.a,null),r.a.createElement("input",{type:"text",placeholder:"Movie Id",required:!0,value:p,onChange:function(e){return v(e.target.value)}})),r.a.createElement(Ra.a,{id:"createMovieBtn",type:"submit",disabled:!!m||""===p},"Search")),u&&u.length>0?r.a.createElement(Nt.a,{rows:b,columns:g,pageSize:10,disableSelectionOnClick:!0,className:"productListTable",autoHeight:!0}):r.a.createElement("h1",{className:"movieReviewsFormHeading"},"No Reviews Found"))))},Na=a(313);Na.loadStripe.setLoadParameters({advancedFraudSignals:!1});var Da=function(){var e=Object(x.c)(function(e){return e.user}),t=e.isAuthenticated,a=e.user;return Object(n.useEffect)(function(){S.a.load({google:{families:["Roboto","Droid Sans","Chilanka"]}}),Ce.dispatch(Ee())},[]),window.addEventListener("contextmenu",function(e){return e.preventDefault()}),r.a.createElement(St.Elements,{stripe:Object(Na.loadStripe)("pk_test_51KvllCSCZua1qhgcr4oYLsQWMb0DjnCswwyZBX6e7ZUJa4lq1tlWNaPzAqJvUFLOuA0Uxpb2L4CW2TPHGcaLKvAS00viNkzvfC")},r.a.createElement(g.BrowserRouter,null,r.a.createElement(m,null),t&&r.a.createElement(Me,{user:a}),r.a.createElement(b.g,null,r.a.createElement(b.e,{exact:!0,path:"/",element:r.a.createElement(M,null)}),r.a.createElement(b.e,{exact:!0,path:"/movie/:id",element:r.a.createElement(K,null)}),r.a.createElement(b.e,{exact:!0,path:"/movies",element:r.a.createElement(ae,null)}),t&&r.a.createElement(b.e,{path:"/account",element:r.a.createElement(We,null)}),t&&r.a.createElement(b.e,{exact:!0,path:"/me/update",element:r.a.createElement(Ve,null)}),t&&r.a.createElement(b.e,{exact:!0,path:"/password/update",element:r.a.createElement(He,null)}),t&&r.a.createElement(b.e,{exact:!0,path:"/shipping",element:r.a.createElement(bt,null)}),t&&r.a.createElement(b.e,{exact:!0,path:"/order/confirm",element:r.a.createElement(ht,null)}),t&&r.a.createElement(b.e,{exact:!0,path:"/process/payment",element:r.a.createElement(kt,null)}),t&&r.a.createElement(b.e,{exact:!0,path:"/success",element:r.a.createElement(Tt,null)}),t&&r.a.createElement(b.e,{exact:!0,path:"/orders",element:r.a.createElement(xt,null)}),t&&r.a.createElement(b.e,{exact:!0,path:"/order/:id",element:r.a.createElement(Pt,null)}),t&&r.a.createElement(b.e,{exact:!0,path:"/admin/dashboard",element:r.a.createElement(na,null)}),t&&r.a.createElement(b.e,{exact:!0,path:"/admin/movies",element:r.a.createElement(ia,null)}),t&&r.a.createElement(b.e,{exact:!0,path:"/admin/movie",element:r.a.createElement(ha,null)}),t&&r.a.createElement(b.e,{exact:!0,path:"/admin/movie/:id",element:r.a.createElement(Sa,null)}),t&&r.a.createElement(b.e,{exact:!0,path:"/admin/orders",element:r.a.createElement(Oa,null)}),t&&r.a.createElement(b.e,{exact:!0,path:"/admin/order/:id",element:r.a.createElement(ya,null)}),t&&r.a.createElement(b.e,{exact:!0,path:"/admin/users",element:r.a.createElement(_a,null)}),t&&r.a.createElement(b.e,{exact:!0,path:"/admin/user/:id",element:r.a.createElement(ka,null)}),t&&r.a.createElement(b.e,{exact:!0,path:"/admin/reviews",element:r.a.createElement(Ta,null)}),r.a.createElement(b.e,{exact:!0,path:"/password/forgot",element:r.a.createElement(ze,null)}),r.a.createElement(b.e,{exact:!0,path:"/password/reset/:token",element:r.a.createElement(Ye,null)}),r.a.createElement(b.e,{path:"/movies/:keyword",element:r.a.createElement(ae,null)}),r.a.createElement(b.e,{exact:!0,path:"/search",element:r.a.createElement(ne,null)}),r.a.createElement(b.e,{exact:!0,path:"/login",element:r.a.createElement(ge,null)}),r.a.createElement(b.e,{exact:!0,path:"/cart",element:r.a.createElement($e,null)})),r.a.createElement(f,null)))},Ua=a(517),xa={timeout:5e3,position:F.b.BOTTOM_CENTER,transitions:F.c.SCALE};l.a.createRoot(document.getElementById("root")).render(r.a.createElement(x.a,{store:Ce},r.a.createElement(F.a,Object.assign({template:Ua.a},xa),r.a.createElement(Da,null))))}},[[520,2,1]]]);
//# sourceMappingURL=main.59746785.chunk.js.map